{% extends 'visitor/base.html.twig' %}


{% block body %}
    <h1 class="main-title text-center"> QCM classés </h1>
    <hr class="my-2">
    <p class="section-description">Effectuez tous les jours vos QCM classés pour gagner des points et progresser dans le classement !</p>
    <h3 class="text-center font-bold">
        {{ qcmDoneToday }} / {{ qcmMax }}
    </h3>
    <div class="col-md-6 offset-md-3">
        <div class="progress" style="height: 15px">
            <div id="countDownProgressBar" class="progress-bar {% if qcmDoneToday >= qcmMax %}bg-success{% endif %}" role="progressbar" style="width: {{ ((qcmDoneToday/qcmMax)*100)|round }}%; height: 15px" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </div>

    <p class="text-center">
        {% if not (qcmDoneToday >= qcmMax) %}
            <a href="{{ path('qcm_ranked_play') }}" class="btn btn-amber btn-rounded btn-lg">Lancer un QCM classé</a>
        {% else %}
            Vous avez réalisé tous vos QCMs classés du jour. Revenez demain pour plus de QCM ! :)
        {% endif %}
    </p>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(function(){
            {% for message in app.session.flashbag.get('error') %}
                toastr.error('{{ message }}');
            {% endfor %}
        });
    </script>
{% endblock %}